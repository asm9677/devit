<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.devit.repository.NoticeRepository">	
		
	<!--  댓글 조회 -->
	<select id="getNoticeList" resultType="NoticeResponse">
		select notice_id as noticeId, 
			notice_type as noticeType, 
			user_id as userId, 
			notice_yn as noticeYn, 
			board_id as boardId, 
			board_reply_id as boardReplyId, 
			sub_his_id as subHisId,
			lecture_id as lectureId,
			sub_id as subId,
			created_date as createdDate
		from notice
		where user_id = #{userId} and notice_yn = 'N'
        order by created_date;
	</select>
	
	<select id="setNoticeRead">
		UPDATE notice SET notice_yn = 'Y' WHERE notice_id  = #{noticeId};
	</select>
	
</mapper>